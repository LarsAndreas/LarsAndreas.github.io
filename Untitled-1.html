<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="Untitled-1.css">
</head>

<body>
    <div id="liste">

    </div>
    <div id="space">
    <button onclick="spaceUp()" class="spaceup">Increase space between</button>
    <button onclick="spaceDown()" class="spacedown">Decrease space between</button>
    </div>
    <div id="place">
    <button onclick="placeUp()" class="placeup">Move up</button>
    <button onclick="placeDown()" class="placedown">Move down</button>
    </div>
    <div id="inputformula" onKeyPress="return checkSubmit(event)">
    <input id="formula" type="text" name="inputFormula" value="2n + 0">
    </div>
    <script>
        function clickUp(showline, alternateline) {
            let divliste = document.getElementById("liste");
            for (let i = 0; i < 20; i++) {
                if ((i + alternateline) % showline == 0) {
                    let divCreate = document.createElement('div');
                    divCreate.style.backgroundColor = "purple";
                    divCreate.className = "line";
                    divCreate.style.top = (i * 5) + "%";
                    if (i * 5 == 0) {
                        divCreate.style.borderTop = "0 solid black";
                    }
                    if (i * 5 == 19 * 5) {
                        divCreate.style.borderBottom = "0 solid black";
                    }
                    divliste.appendChild(divCreate);
                }
            }
        }
        let x = 2
        let y = 0
        function removeElementsByClass(className){
            var elements = document.getElementsByClassName(className);
            while(elements.length > 0){
                elements[0].parentNode.removeChild(elements[0]);
            }
        }
        function updatetext(z,k) /* z*n + k */ {
            let inputFormula = document.getElementById("formula");
            inputFormula.value = z + "n + " + k
        }
        function textClickUp(textChange) {
            let textValue = textChange.value;
            let textArray = textValue;
            console.log(textArray);
            textArray = textArray.split(" ");
            console.log(textArray);
            textArray[0] = textArray[0].split(""); 
            console.log(textArray);
            textArray[0] = textArray[0].splice(-2, 0)
            textArray[0] = textArray[0].join("");
            console.log(textArray);
            textArray = textArray.map(e => parseInt(e));
            console.log(textArray);
            /*
            textArray = textArray.split("").map(x => parseInt(x));
            for (let i = 0; i !== textArray.length; i++) {
                if (isNaN(textArray[i])) {
                    textArray[i] = "";
                    break
                }
            } 
            for (let i = 0; i !== textArray.length; i++) {
                if (isNaN(textArray[i])) {
                    textArray.splice(i,3);
                    break
                }
            } 
            console.log(textArray) */
            removeElementsByClass('line');
            clickUp(textArray[0],textArray[2]);
            updatetext(textArray[0],textArray[2]);
            x = textArray[0];
            y = textArray[2];
        }
        function checkSubmit(e) {
            if(e && e.keyCode == 13) {
                textClickUp(document.getElementById("formula"));
            }
        }
        clickUp(2,0)
        function spaceUp() {
            removeElementsByClass('line');
            clickUp(x + 1, y);
            x = x + 1;
            updatetext(x,y)
        }
        function spaceDown() {
            if (x > 1) { 
                removeElementsByClass('line');
                clickUp(x - 1, y);
                x = x - 1;
                updatetext(x,y)
            }
        }
        function placeUp() {
            removeElementsByClass('line');
            clickUp(x, y + 1);
            y = y + 1;
            updatetext(x,y)
        }
        function placeDown() {
            removeElementsByClass('line');
            clickUp(x, y - 1);
            y = y - 1;
            updatetext(x,y)
        }

    </script>
</body>

</html>